{% extends '::base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    {% stylesheets filter='yui_css' filter='cssrewrite' output='css/compiled/layout.css'
        'bundles/inckcore/css/navbar.css'
    %}
        <link href="{{ asset_url }}" rel="stylesheet" media="screen">
    {% endstylesheets %}
{% endblock %}

{% block navbar %}
    {% set currentRoute = app.request.attributes.get('_route') %}
    <ul id="gn-menu" class="gn-menu-main">
        <li class="gn-trigger">
            <a class="gn-icon gn-icon-menu"><span>Menu</span></a>
            <nav class="gn-menu-wrapper">
                <div class="gn-scroller">
                    <ul class="gn-menu">
                        <li class="gn-search-item">
                            <input placeholder="Recherche" type="search" class="gn-search">
                            <a class="gn-icon gn-icon-search{% if currentRoute == 'inck_core_search_list' %} active{% endif %}"><span>Rechercher</span></a>
                        </li>
                        <li><a class="gn-icon gn-icon-article{% if currentRoute == 'inck_article_article_new' %} active{% endif %}" href="{{ path('inck_article_article_new') }}">Écrire un article</a></li>
                        <li><a class="gn-icon gn-icon-archive{% if currentRoute == 'inck_article_article_moderate' %} active{% endif %}" href="{#{ path('inck_article_article_moderate') }#}">Modérer un article</a></li>
                        <li><a class="gn-icon glyphicon-list-alt{% if currentRoute == 'inck_article_category_list' %} active{% endif %}" href="{#{ path('inck_article_category_list') }#}">Catégories</a></li>
                        <li><a class="gn-icon gn-icon-cog{% if currentRoute == 'inck_core_default_about' %} active{% endif %}" href="{#{ path('inck_core_default_about') }#}">À Propos</a></li>
                        <li><a class="gn-icon glyphicon-euro{% if currentRoute == 'inck_bid_registration_register' %} active{% endif %}" href="{#{ path('inck_bid_registration_register') }#}">Presses</a></li>
                    </ul>
                </div>
            </nav>
        </li>
        <li><a class="{% if currentRoute == 'home' %}active{% endif %}" href={{ path('home') }}><i class="fa fa-home"></i> Inck</a></li>
        {% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}
            <li class="navbar-right"><a href="{{ path('fos_user_security_logout') }}"><i class="fa fa-sign-out"></i> {{ 'layout.logout'|trans({}, 'FOSUserBundle') }}</a></li>
            <li class="navbar-right"><a class="{% if currentRoute == 'fos_user_profile_show' %}active{% endif %}" href="{{ path('fos_user_profile_show') }}"><i class="fa fa-user"></i> Mon profil</a></li>
        {% else %}
            <li class="navbar-right"><a class="{% if currentRoute == 'fos_user_security_login' %}active{% endif %}" href="{{ path('fos_user_security_login') }}"><i class="fa fa-sign-in"></i> {{ 'layout.login'|trans({}, 'FOSUserBundle') }}</a></li>
            <li class="navbar-right"><a class="{% if currentRoute == 'fos_user_registration_register' %}active{% endif %}" href="{{ path('fos_user_registration_register') }}"><i class="fa fa-pencil-square-o"></i> {{ 'layout.register'|trans({}, 'FOSUserBundle') }}</a></li>
        {% endif %}
    </ul>
{% endblock %}


{% block footer %}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {% javascripts filter='yui_js' output='js/compiled/core/layout.js'
        'bundles/inckcore/js/classie.js'
        'bundles/inckcore/js/modernizr.custom.js'
        'bundles/inckcore/js/layout/lib/gnmenu.js'
        'bundles/inckcore/js/layout/menu.js'
    %}
        <script src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}