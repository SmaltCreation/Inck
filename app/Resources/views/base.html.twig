<!DOCTYPE html>
<html {% block xmlns %}{% endblock %}>
    <head>
        <meta charset="UTF-8" />
        <title>Inck - {% block title %}{% endblock %}</title>
        {% block description %}{% endblock %}

        {% block stylesheets %}
            {% stylesheets filter='cssrewrite, ?uglifycss' output='css/compiled/base.css'
                'css/bootstrap.css'
                'components/font-awesome/css/font-awesome.css'
                'bundles/inckcore/css/button.css'
                'bundles/inckcore/css/global.css'
                'bundles/inckcore/css/form.css'
            %}
                <link href="{{ asset_url }}" rel="stylesheet" media="screen">
            {% endstylesheets %}
            {% include 'BraincraftedBootstrapBundle::ie8-support.html.twig' %}

            {% include 'AvocodeFormExtensionsBundle::stylesheets.html.twig' %}
            {% if form is defined %}
                {{ afe_form_stylesheet(form) }}
            {% endif %}
        {% endblock %}

        <link rel="icon" type="image/x-icon" href="{{ asset('favicon.ico') }}">
    </head>
    <body>
        <div id="wrapper">
            <nav id="navbar">{% block navbar %}{% endblock %}</nav>
            <header id="header">{% block header %}{% endblock %}</header>
            <section id="messages">{% include('base/messages.html.twig') %}</section>
            <section id="content">{% block content %}{% endblock %}</section>
            <footer id="footer">{% block footer %}{% endblock %}</footer>
        </div>

        {% block javascripts %}
            {% javascripts filter='?uglifyjs2' output='js/compiled/base.js'
                'components/jquery/jquery.min.js'
                'components/jquery-ui/jquery-ui.min.js'
                'js/bootstrap.js'
                'bundles/fosjsrouting/js/router.js'
                'js/fos_js_routes.js'
                'bundles/inckcore/js/global.js'
                'bundles/inckcore/js/Form/textarea.js'
            %}
            <script src="{{ asset_url }}"></script>
            {% endjavascripts %}

            {% include 'AvocodeFormExtensionsBundle::javascripts.html.twig' %}
            {% if form is defined %}
                {{ afe_form_javascript(form) }}
            {% endif %}

            {% if app.user is not null and is_granted("IS_AUTHENTICATED_REMEMBERED") %}
                <script type="text/javascript">
                    var _CLANK_URI = "ws://{{ clank_host }}:{{ clank_port }}";
                </script>

                {{ clank_client() }}

                {% javascripts filter='?uglifyjs2' output='js/compiled/base/notif.js'
                    'bundles/incknotif/js/client.js'
                %}
                <script src="{{ asset_url }}"></script>
                {% endjavascripts %}
            {% endif %}
        {% endblock %}
    </body>
</html>
